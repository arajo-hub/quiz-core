# Quizcore API

## 개요
Quizcore는 사용자별 퀴즈 세션을 관리하고, 퀴즈 문제를 출제 및 채점하는 API를 제공합니다. 각 세션은 사용자별로 관리되며, 다른 사용자의 세션에 접근할 수 없습니다.

## API 요구사항

### 1. 퀴즈 시작
- **엔드포인트**: `POST /quiz/start`
- **설명**: 오늘의 문장 퀴즈를 시작합니다.
- **비즈니스 로직**:
    - 사용자가 이미 진행 중인 세션이 있는지 확인합니다.
    - 진행 중인 세션이 없으면 새로운 세션을 생성하고 첫 번째 문제를 반환합니다.
    - 진행 중인 세션이 있을 경우, 다음 해결되지 않은 문제를 반환합니다.
    - 모든 문제가 해결된 경우, 세션을 완료로 표시하고, 새로운 세션을 생성하고 첫 번째 문제를 반환합니다.
- **응답**: `QuizSessionStartResponse`를 포함한 `ApiResponse` 객체

### 2. 복습 퀴즈 시작
- **엔드포인트**: `POST /quiz/review/start`
- **설명**: 복습 퀴즈를 시작합니다.
- **비즈니스 로직**:
    - 사용자가 이미 진행 중인 복습 세션이 있는지 확인합니다.
    - 진행 중인 세션이 없으면 새로운 복습 세션을 생성하고 첫 번째 문제를 반환합니다.
    - 진행 중인 세션이 있을 경우, 다음 해결되지 않은 문제를 반환합니다.
    - 모든 문제가 해결된 경우, 세션을 완료로 표시하고, 새로운 세션을 생성하고 첫 번째 문제를 반환합니다.
- **응답**: `QuizSessionStartResponse`를 포함한 `ApiResponse` 객체

### 3. 퀴즈 답변 채점
- **엔드포인트**: `POST /quiz/session/{sessionId}/grade`
- **설명**: 특정 세션에 대한 퀴즈 답변을 채점합니다.
- **비즈니스 로직**:
    - 세션의 유효성을 확인하고, 진행 중인 상태인지 검증합니다.
    - 퀴즈와 세션의 정합성을 확인합니다.
    - 사용자가 제출한 답변을 채점하고, 정답 여부를 확인합니다.
    - 정답일 경우 문제를 해결된 상태로 표시하고, 정해진 문제 개수를 아직 못 채운 경우 다음 문제를 생성합니다. 정해진 문제 개수를 채운 경우 세션을 완료로 표시합니다.
    - 오답일 경우 마지막 문제가 아니라면 그 자신의 이후 순서 중 틀렸으면서 자신보다 아이디가 크면서 아이디가 최소인 문제를 반환합니다.
    - 오답인데 마지막 문제인 경우는, 그 자신을 제외한 전체 문제 중 틀렸으면서 아이디가 최소인 문제를 반환합니다. 만약 그 자신을 제외한 문제가 모두 맞았다면 그 자신을 반환합니다.
    - 
- **요청 본문**: `QuizAnswerRequest` 객체
- **응답**: `QuizAnswerResponse`를 포함한 `ApiResponse` 객체

### 4. 퀴즈 세션 결과 조회
- **엔드포인트**: `GET /quiz/session/{sessionId}/result`
- **설명**: 특정 세션의 퀴즈 결과를 조회합니다.
- **비즈니스 로직**:
    - 세션의 모든 문제를 조회하고, 각 문제의 정답 및 오답 개수를 집계합니다.
    - 세션의 시작 및 완료 시간을 포함한 결과를 반환합니다.
- **응답**: `QuizSessionResultResponse`를 포함한 `ApiResponse` 객체

## 엔티티 정보

### QuizSession
- **설명**: 사용자의 퀴즈 풀이 세션을 관리합니다.
- **주요 필드**:
    - `id`: 세션의 고유 식별자
    - `sessionType`: 세션의 유형 (예: 오늘의 문장, 복습)
    - `userId`: 세션을 생성한 사용자 식별자
    - `sessionStatus`: 세션의 현재 상태 (예: 진행 중, 완료)
    - `correctAnswer`: 사용자가 맞춘 문제의 개수
    - `startedDateTime`: 세션 시작 시간
    - `completedDateTime`: 세션 완료 시간
    - `quizQuestions`: 이 세션에 포함된 모든 질문

### QuizQuestion
- **설명**: 퀴즈 세션에서 출제되는 개별 문제를 관리합니다.
- **주요 필드**:
    - `id`: 질문의 고유 식별자
    - `userId`: 질문을 생성한 사용자 식별자
    - `quizSession`: 이 질문이 속한 퀴즈 세션
    - `learningSentence`: 질문의 기초가 되는 학습 문장
    - `questionOrder`: 세션 내에서의 질문 순서
    - `questionType`: 질문의 유형 (예: 번역, 완성, 객관식)
    - `question`: 질문 내용
    - `correctAnswer`: 정답
    - `options`: 선택지
    - `isSolved`: 문제 해결 여부

### LearningLog
- **설명**: 학습 로그를 관리하여 사용자의 학습 효과를 분석할 수 있습니다.
- **주요 필드**:
    - `id`: 로그의 고유 식별자
    - `userId`: 로그를 생성한 사용자 식별자
    - `quizQuestion`: 관련된 퀴즈 질문
    - `isCorrect`: 사용자가 문제를 맞췄는지 여부
    - `responseTime`: 사용자가 답변을 제출한 시간

### LearningSentence
- **설명**: 학습 문장에 대한 정보를 포함합니다.
- **주요 필드**:
    - `id`: 문장의 고유 식별자
    - `sentence`: 학습 문장
    - `translation`: 문장의 번역
    - `category`: 문장의 카테고리
    - `difficulty`: 문장의 난이도

### BaseEntity
- **설명**: 다른 엔티티들이 상속받는 기본 엔티티로, 공통 필드를 포함합니다.
- **주요 필드**:
    - `createdDate`: 생성 날짜
    - `lastModifiedDate`: 마지막 수정 날짜